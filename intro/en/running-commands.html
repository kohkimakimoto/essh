<!DOCTYPE html>
<html lang="en">

<head>
  <title>Running Commands | Introduction | Essh - Extended ssh command</title>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">

  <link rel="shortcut icon" href="/essh/images/favicon.png" type="image/x-icon" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/agate.min.css">
<link rel="stylesheet" href="/essh/asciinema/asciinema-player.css">
<link rel="stylesheet" href="/essh/css/style.css">

</head>

<body class="layout-docs-single">
  <nav id="mainNav" class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                  <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
              </button>
      <a class="navbar-brand" href="/essh/">Essh</a>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a class="" href="/essh/intro/en/index.html">Intro</a>
        </li>
        <li>
          <a class="" href="/essh/docs/en/index.html">Docs</a>
        </li>
        <li>
          <a class="" href="https://github.com/kohkimakimoto/essh">Github</a>
        </li>
        <li>
          <a class="" href="https://github.com/kohkimakimoto/essh/releases/latest">Download</a>
        </li>

      </ul>
    </div>
  </div>
</nav>

  <section class="single content-wrapper">
    <div class="container">
      <div class="row">
        <div class="col-sm-9 col-sm-push-3">
          <div class="pull-right lang-list change-lang">
            <span>Change Language:</span>
            <ul>
              <li><a href="/essh/intro/en/running-commands.html" class="disabled">en</a></li>
              <li><a href="/essh/intro/ja/running-commands.html" class="">ja</a></li>
            </ul>
            </div>
          <section class="main-content">
            

<h1 id="running-commands">Running Commands</h1>

<p>Essh allow you to run commands on the selected remote hosts by using <code>--exec</code>, <code>--backend</code> and <code>--target</code> options.</p>

<pre><code class="language-sh">$ essh --exec --backend=remote --target=web uptime
 22:48:31 up  7:58,  0 users,  load average: 0.00, 0.01, 0.03
 22:48:31 up  7:58,  0 users,  load average: 0.00, 0.02, 0.04
</code></pre>

<p><code>--target</code> option can be used multiple times.</p>

<pre><code class="language-sh">$ essh --exec --backend=remote --target=web --target=db uptime
 16:47:02 up 270 days, 13:29,  0 users,  load average: 0.11, 0.18, 0.11
 16:47:02 up 270 days, 13:26,  0 users,  load average: 0.00, 0.01, 0.00
 16:47:02 up 10 days,  1:02,  0 users,  load average: 0.01, 0.03, 0.00
 16:47:03 up 2 days, 22:24,  1 user,  load average: 0.00, 0.01, 0.05
</code></pre>

<p>Use <code>--prefix</code> option, Essh outputs result of command with hostname prefix.</p>

<pre><code class="language-sh">$ essh --exec --backend=remote --target=web --prefix uptime
[remote:web01.localhost]  22:48:31 up  7:58,  0 users,  load average: 0.00, 0.01, 0.03
[remote:web02.localhost]  22:48:31 up  7:58,  0 users,  load average: 0.00, 0.02, 0.04
</code></pre>

<p>Use <code>--parallel</code> option, Essh runs commands in parallel.</p>

<pre><code class="language-sh">$ essh --exec --backend=remote --target=web --prefix --parallel uptime
[remote:web01.localhost]  22:48:31 up  7:58,  0 users,  load average: 0.00, 0.01, 0.03
[remote:web02.localhost]  22:48:31 up  7:58,  0 users,  load average: 0.00, 0.02, 0.04
</code></pre>

<p>Use <code>--privileged</code> option, Essh runs commands by privileged (root) user. You have to configure your machine to be able to be used <code>sudo</code> without password.</p>

<pre><code class="language-sh">$ essh --exec --backend=remote --target=web --prefix --privileged whoami
[remote:web01.localhost] root
[remote:web01.localhost] root
</code></pre>

<p>Set <code>--backend=local</code> option, Essh runs commands locally.</p>

<pre><code class="language-sh">$ essh --exec --backend=local --target=web --parallel --prefix 'echo $ESSH_HOSTNAME'
[local:web01.localhost] web01.localhost
[local:web02.localhost] web02.localhost
</code></pre>

<p>In the above example, I use <code>ESSH_HOSTNAME</code> environment variable.
Essh runs commands by using a temporary <a href="/essh/docs/en/tasks.html">task</a> internally. So you can use some predefined variables that defined by a task in the commands. For detail, see <a href="/essh/docs/en/tasks.html">Tasks</a></p>

<p>Let&rsquo;s read next section: <a href="running-tasks.html">Running Tasks</a></p>

          </section>
        </div>
        <div class="col-sm-3 col-sm-pull-9">
          <section class="side-menu">
<ul>
<li><a href="index.html">Introduction</a></li>
<li><a href="installation.html">Installation</a></li>
<li><a href="using-as-a-ssh-client.html">Using As A SSH Client</a></li>
<li><a href="zsh-completion.html">Zsh Completion</a></li>
<li><a href="using-hooks.html">Using Hooks</a></li>
<li><a href="managing-hosts.html">Managing Hosts</a></li>
<li><a href="running-commands.html">Running Commands</a></li>
<li><a href="running-tasks.html">Running Tasks</a></li>
<li><a href="using-lua-libraries.html">Using Lua Libraries</a></li>
<li><a href="using-drivers.html">Using Drivers</a></li>
</ul>
</section>

        </div>

      </div>
    </div>
  </section>
  <footer>
  <div class="container">
    <p>Copyright (c) 2016 Kohki Makimoto</p>
    <ul class="list-inline">
      <li>
        <a href="https://github.com/kohkimakimoto/essh">Github</a>
      </li>
      <li>
        <a href="https://github.com/kohkimakimoto/essh/issues">Issues</a>
      </li>
      <li>
        <a href="https://github.com/kohkimakimoto/essh/releases">Releases</a>
      </li>
    </ul>
    <p>HTML template is <a href="https://github.com/BlackrockDigital/startbootstrap-new-age">startbootstrap-new-age</a> - Copyright 2013-2016 Blackrock Digital LLC.</p>
    <p>I use “Google Analytics” to collect information about use of this site.</p>
  </div>
</footer>

  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/languages/lua.min.js"></script>
<script type="text/javascript" src="/essh/asciinema/asciinema-player.js"></script>
<script type="text/javascript" src="/essh/js/bundle.js"></script>



<script>hljs.initHighlightingOnLoad();</script>


</body>

</html>
